<html>
    <head>
        <title>ToDo List</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <center>
            <br>
            <h1 id="h1TITLE">TODO LIST</h1>
            <br><br>
            <div class="col-lg-5">


                <div class="input-group mb-3">

                    <input id="IT" type="text" class="form-control">

                    <div class="input-group-append">
                        <button class="input-group-text btn btn-outline-secondary leftborder" type="button" onclick="fn_add()"> + ADD</button>
                    </div>

                </div>

                <ul class="list-group" id="ulList">

                    <div class="input-group mb-3 brake" id="0">

                        <div class="input-group-prepend">

                            <div class="input-group-text rightborder" style="height: 42px;">
                                <input type="checkbox" class="checkbox">
                            </div>

                        </div>

                        <li class="list-group-item form-control" style="text-align: left;">Add items to your TODO list</li>

                        <div class="input-group-append">
                            <button class="btn btn-outline-danger leftborder" type="button" onclick="fn_delete(0)" style="height: 42px;">ðŸ—‘</button>
                        </div>

                    </div>

                </ul>

                <br><br><br><br>
                
                <h4>Not working? Click <button onclick="fn_ls()" class="btn btn-success">here</button>!</h4>

            </div>
        </center>
        <script>
            var ListStart = "<div class='input-group brake' id='";
var ListMid1 = "'><div class='input-group-prepend'><div class='input-group-text rightborder' style='height: 42px;'><input type='checkbox' class='checkbox'></div></div><li class='list-group-item form-control' style='text-align: left;'>"
var ListMid2 = "</li><div class='input-group-append'><button class='input-group-text btn btn-outline-danger leftborder' type='button' onclick='fn_delete(";
var ListEnd = ")'>ðŸ—‘</button></div></div>"
var arrList = [
    "Add items to your TODO list"
]
arrList = JSON.parse(localStorage.getItem('TodoListARRAY'));
var ListUJ = arrList.join("");
var element;
Update();

function fn_add(){
    arrList.push(String(document.getElementById("IT").value));
    document.getElementById("IT").value="";
    document.getElementById("IT").focus();
    Update();
}

function Update(){
    document.getElementById("ulList").innerHTML = "";
    for(i=0; i<arrList.length; i++){
        document.getElementById("ulList").innerHTML =  
    document.getElementById("ulList").innerHTML.concat(ListStart, i, ListMid1, arrList[i], ListMid2, i, ListEnd);
    }
    localStorage.setItem('TodoListARRAY', JSON.stringify(arrList));
}

function fn_delete(n){
    const element = document.getElementById(String(n));
    element.remove();
    arrList.pop(n);
    Update();
}

function fn_ls(){
    localStorage.setItem("TodoListARRAY", "['It works now!!!']")
    Update();
}
        </script>
    </body>
</html>
